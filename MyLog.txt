giu 11, 2022 3:54:30 PM com.molinari.utility.log.LoggerOggetto creaLog
INFO: Start programma!
giu 11, 2022 3:54:30 PM com.molinari.utility.database.ExecuteResultSet execute
INFO: Query in esecuzione: SELECT * FROM Lezione
giu 11, 2022 3:54:30 PM com.molinari.cercalezione.Controllore verificaPresenzaDb
SEVERE: Il database non c'è ancora, è da creare!
java.sql.SQLException: com.molinari.utility.GenericException: java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: Lezione)
	at com.molinari.utility.database.ExecuteResultSet.execute(ExecuteResultSet.java:26)
	at com.molinari.cercalezione.Controllore.verificaPresenzaDb(Controllore.java:54)
	at com.molinari.cercalezione.Controllore.start(Controllore.java:89)
	at com.molinari.utility.controller.ControlloreBase.mainOverridato(ControlloreBase.java:131)
	at com.molinari.utility.controller.ControlloreBase.lambda$0(ControlloreBase.java:94)
	at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)
	at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)
	at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)
	at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)
	at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)
	at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)
	at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)
	at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)
	at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)
	at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)
	at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)
Caused by: com.molinari.utility.GenericException: java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: Lezione)
	at com.molinari.utility.database.ExecuteResultSet.lambda$1(ExecuteResultSet.java:22)
	at com.molinari.utility.database.ConnectionPool.useConnection(ConnectionPool.java:69)
	at com.molinari.utility.database.ExecuteResultSet.execute(ExecuteResultSet.java:18)
	... 17 more
Caused by: java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: Lezione)
	at org.sqlite.DB.newSQLException(DB.java:383)
	at org.sqlite.DB.newSQLException(DB.java:387)
	at org.sqlite.DB.throwex(DB.java:374)
	at org.sqlite.NativeDB.prepare(Native Method)
	at org.sqlite.DB.prepare(DB.java:123)
	at org.sqlite.Stmt.executeQuery(Stmt.java:121)
	at com.molinari.utility.database.ConnectionPool.createResultSet(ConnectionPool.java:190)
	at com.molinari.utility.database.ConnectionPool.getResulSet(ConnectionPool.java:184)
	at com.molinari.utility.database.ExecuteResultSet.lambda$1(ExecuteResultSet.java:19)
	... 19 more

giu 11, 2022 3:54:30 PM com.molinari.utility.database.ConnectionPool executeUpdate
INFO: Query in esecuzione: BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS Tag (
	idTag	INTEGER,
	descrizione	TEXT,
	PRIMARY KEY(idTag)
);
CREATE TABLE IF NOT EXISTS LezioneTag (
	idLezione	INTEGER,
	idTag	INTEGER,
	FOREIGN KEY(idTag) REFERENCES Tag(idTag),
	FOREIGN KEY(idLezione) REFERENCES Lezione(idLezione),
	PRIMARY KEY(idLezione,idTag)
);
CREATE TABLE IF NOT EXISTS LezioneFile (
	idFile	INTEGER,
	IdLezione	INTEGER,
	FOREIGN KEY(idFile) REFERENCES File(idFile),
	PRIMARY KEY(idFile,IdLezione),
	FOREIGN KEY(IdLezione) REFERENCES Lezione(idLezione)
);
CREATE TABLE IF NOT EXISTS Lezione (
	idLezione	INTEGER,
	data	TEXT NOT NULL,
	anno	INTEGER NOT NULL,
	numero	INTEGER NOT NULL,
	nome	TEXT NOT NULL
);
CREATE TABLE IF NOT EXISTS File (
	idFile	INTEGER,
	nome	TEXT NOT NULL,
	path	TEXT NOT NULL,
	PRIMARY KEY(idFile)
);
COMMIT;

giu 11, 2022 3:54:30 PM com.molinari.cercalezione.Controllore verificaPresenzaDb
SEVERE: com.molinari.utility.GenericException: java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: Lezione)
